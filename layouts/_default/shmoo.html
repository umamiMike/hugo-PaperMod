{{ define "main" }}
<style>
#section-1, #section-2 {
height: 60vh;
}
  .section-nav {
    display: flex;
justify-content: space-evenly;
    position: sticky;
    top: 0;
    background-color: var(--tertiary);
  }
</style>
 <h1>{{ .Title }}</h1>

  {{- $sectionDelimiter := "<!-- section break -->" -}}
  {{- $rawContentSections := split .RawContent $sectionDelimiter -}}
  {{- if gt (len $rawContentSections) 1 -}}

  <ul class="section-nav">
  {{- range  $i, $el := $rawContentSections }}
  <li>
    <!-- {{ substr .  0 4 }} -->
    {{ $section := add 1 $i  }}
    <a href="#section-{{ $section }}"> section {{ $section }}</a>
  </li>
  {{ end }}
  </ul>
  {{- range  $i, $el := $rawContentSections }}
    {{ $section := add 1 $i  }}
    <section id="section-{{ $section }}"> {{ $el | markdownify }}</section>
  <br>
  <br>
  <br>
  <br>
  <br>
  {{ end }}
  {{- else -}}
    <div id="content-not-split-into-sections">
      {{ .Content }}
    </div>
  {{- end -}}

{{ end }}

{{/* end main */}}
